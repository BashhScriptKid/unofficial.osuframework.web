<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>OSU_TESTS_FORCED_GC | osu!framework </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="OSU_TESTS_FORCED_GC | osu!framework ">
      
      
      <link rel="icon" href="../assets/nuget icon.png">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ppy/osu-framework.wiki/blob/master/Environment-variables.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../assets/docfx_icon.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="osu_tests_forced_gc"><code>OSU_TESTS_FORCED_GC</code></h1>

<p>When running tests in a grouped fashion, unobserved exceptions will be thrown at the next garbage collection (as they are handled in the finalizer of related <code>Task</code>s). This can make it very hard to track down issues stemming from unobserved exceptions. Setting this variable to <code>1</code> will force a garbage collection after each test method, increasing the chances of unobserved exceptions firing against their related tests.</p>
<p>Note that this adds a considerable overhead to test runs, especially on projects with large allocations. For osu! we see an overhead of around 80-100%. For this reason, it is disabled by default.</p>
<h1 id="osu_tests_no_timeout"><code>OSU_TESTS_NO_TIMEOUT</code></h1>
<p>By default, <code>AddUntilStep</code> has a timeout to ensure tests don't run forever. Settings this variable to <code>1</code> will disable this timeout. This is useful when diagnosing deadlock scenarios, or to allow ample time to attach a debugger and check on the current state of the game in a fail case.</p>
<h1 id="osu_execution_mode"><code>OSU_EXECUTION_MODE</code></h1>
<p>Force an execution mode for test runs. Valid values are <code>SingleThread</code> and <code>MultiThreaded</code>. Default is <code>MultiThreaded</code>.</p>
<h1 id="osu_graphics_renderer"><code>OSU_GRAPHICS_RENDERER</code></h1>
<p>Selects the graphics renderer implementation. Valid values are:</p>
<ul>
<li><code>gl</code> or <code>opengl</code> - the <a href="https://github.com/ppy/osu-framework/blob/master/osu.Framework/Graphics/OpenGL/GLRenderer.cs"><code>GLRenderer</code></a> implementation.
<ul>
<li>Only supports the <code>opengl</code> <a href="#OSU_GRAPHICS_SURFACE">graphics surface</a>.</li>
</ul>
</li>
<li><code>veldrid</code> - the <a href="https://github.com/ppy/osu-framework/blob/master/osu.Framework/Graphics/Veldrid/VeldridRenderer.cs"><code>VeldridRenderer</code></a> implementation.</li>
</ul>
<h1 id="osu_graphics_surface"><code>OSU_GRAPHICS_SURFACE</code></h1>
<p>Selects the graphics surface that the renderer should use. Valid values are:</p>
<ul>
<li><code>opengl</code></li>
<li><code>metal</code> (only on Apple operating systems)</li>
<li><code>direct3d11</code> (only on Windows operating systems)</li>
<li><code>vulkan</code> (except Apple operating systems)</li>
</ul>
<h1 id="osu_graphics_no_ssbo"><code>OSU_GRAPHICS_NO_SSBO</code></h1>
<p>Enables/disables use of <a href="https://www.khronos.org/opengl/wiki/Shader_Storage_Buffer_Object">Shader Storage Buffer Objects</a>. When disabled, the game falls back to <a href="https://www.khronos.org/opengl/wiki/Uniform_Buffer_Object">Uniform Buffer Objects</a> that are more limited in functionality but more broadly supported.</p>
<p>Valid values are:</p>
<ul>
<li><code>0</code> - Disabled</li>
<li><code>1</code> - Enabled</li>
</ul>
<h1 id="osu_frame_statistics_via_touch"><code>OSU_FRAME_STATISTICS_VIA_TOUCH</code></h1>
<p>Whether to allow access to framework overlays via touch input. When set to <code>1</code> (default):</p>
<ul>
<li>Double-click on any area on the bottom right corner of the screen to cycle between frame statistics display (and also make it visible from hidden state).</li>
<li>Tap with a single finger to expand the frame statistics display when in full state (similar to holding Ctrl).</li>
<li>Tap with a second finger to freeze the frame statistics display (similar to holding Shift).</li>
</ul>
<p>Note that this only works in debug builds. Disable for debug builds by setting to <code>0</code>.</p>
<h1 id="osu_insecure_requests"><code>OSU_INSECURE_REQUESTS</code></h1>
<p>Whether to allow non-SSL web requests. When not provided, <code>http://</code> requests will be automatically converted to <code>https://</code>.</p>
<p>Only available in debug builds.</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ppy/osu-framework.wiki/blob/master/Environment-variables.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          osu!framework is licensed under the MIT licence, docs powered by docfx
        </div>
      </div>
    </footer>
  </body>
</html>
